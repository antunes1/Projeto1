<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title> Teste Lista</title>
</head>
<body>

	<div class="content">
		
		<div class="row">
			
			<div class="col=12">
				<h1> lista teste</h1>
				<form>
					<input type="text" name="task" id="task"
					placeholder="novo Item..." />
					<input type="button" 
						name=""
						onclick="addTask();"
						value='add'/>

				</form>

			</div>

		</div>

		<div class="row">
			<div class="col-12">

				<div class="to=do-list-box">
					<ul id="myList">
						
					</ul>
					
				</div>
				
			</div>
		</div>

	</div>

	<script type="text/javascript">
		var ul = document.getElementById("myList");
		var li;
		var itemId;
		var item;

		addTask = function() {

			if(document.getElementById("task").value != ""){

				item = document.getElementById("task");
				
				itemId = ul.childElementCount;
				
				li = createItemEl(item.value, itemId);

				li.appendChild(createRemoveTaskBtn(itemId));

				ul.appendChild(li);

				task.focus();
				task.value = "";

			}
		}

		removeTask = function( itemId ) {

			for( var i = 0 ; i < ul.children.length; i++){
				if(ul.children[i].getAttribute("index") == itemId){

					ul.children[i].remove();

				}
			}

		}

		createItemEl = function(itemValue, itemId) {

			let li = document.createElement("li");

			li.setAttribute("index", itemId); //passado como atributo

			li.appendChild(document.createTextNode(itemValue));// pegando o valor dentro da caixa de texto e passando para esta lista
			return li;

		}

		createRemoveTaskBtn= function(itemId){
			let btn = document.createElement("button");
			btn.setAttribute("onclick", "removeTask("+itemId+")");
			btn.innerHTML = "X remove";
			return btn;
		}
	</script>

</body>
</html>